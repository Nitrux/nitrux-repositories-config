#!/bin/bash

>> /etc/apt/preferences printf "%s\n" \
	'########################################' \
	'#   DO NOT EDIT THIS FILE!             #' \
	'#   Your changes will be overwritten   #' \
	'########################################' \
	'' \
	'######################' \
	'#  Packages Priority #' \
	'######################' \
	'' \
	'Package: base-files' \
	'Pin: release *' \
	'Pin-Priority: -1' \
	'' \
	'Package: base-passwd' \
	'Pin: release *' \
	'Pin-Priority: -1' \
	'' \
	'Package: calamares' \
	'Pin: release o=Debian,a=unstable,n=sid' \
	'Pin-Priority: -1' \
	'' \
	'Package: dash' \
	'Pin: release *' \
	'Pin-Priority: -1' \
	'' \
	'Package: fuse' \
	'Pin: release *' \
	'Pin-Priority: -1' \
	'' \
	'Package: grub-common' \
	'Pin: release o=Debian,a=unstable,n=sid' \
	'Pin-Priority: -1' \
	'' \
	'Package: grub-efi-amd64' \
	'Pin: release o=Debian,a=unstable,n=sid' \
	'Pin-Priority: -1' \
	'' \
	'Package: grub-efi-amd64-bin' \
	'Pin: release o=Debian,a=unstable,n=sid' \
	'Pin-Priority: -1' \
	'' \
	'Package: grub-efi-amd64-signed' \
	'Pin: release o=Debian,a=unstable,n=sid' \
	'Pin-Priority: -1' \
	'' \
	'Package: grub-pc-bin' \
	'Pin: release o=Debian,a=unstable,n=sid' \
	'Pin-Priority: -1' \
	'' \
	'Package: grub2-common' \
	'Pin: release o=Debian,a=unstable,n=sid' \
	'Pin-Priority: -1' \
	'' \
	'Package: k3b' \
	'Pin: release *' \
	'Pin-Priority: -1' \
	'' \
	'Package: k3b-i18n' \
	'Pin: release *' \
	'Pin-Priority: -1' \
	'' \
	'Package: libboost-python1.71.0' \
	'Pin: release o=Debian,a=unstable,n=sid' \
	'Pin-Priority: -1' \
	'' \
	'Package: libglu1-mesa' \
	'Pin: release o=Ubuntu,a=focal,n=focal' \
	'Pin-Priority: -1' \
	'' \
	'Package: libnvidia-ifr1-390 ' \
	'Pin: release *' \
	'Pin-Priority: -1' \
	'' \
	'Package: libnvidia-gl-390' \
	'Pin: release *' \
	'Pin-Priority: -1' \
	'' \
	'Package: libnvidia-fbc1-390' \
	'Pin: release *' \
	'Pin-Priority: -1' \
	'' \
	'Package: libnvidia-encode-390' \
	'Pin: release *' \
	'Pin-Priority: -1' \
	'' \
	'Package: libnvidia-decode-390' \
	'Pin: release *' \
	'Pin-Priority: -1' \
	'' \
	'Package: libnvidia-compute-390' \
	'Pin: release *' \
	'Pin-Priority: -1' \
	'' \
	'Package: libnvidia-cfg1-390' \
	'Pin: release *' \
	'Pin-Priority: -1' \
	'' \
	'Package: libsystemd0' \
	'Pin: release *' \
	'Pin-Priority: -1' \
	'' \
	'Package: libpam0g' \
	'Pin: release *' \
	'Pin-Priority: -1' \
	'' \
	'Package: libpam-modules' \
	'Pin: release *' \
	'Pin-Priority: -1' \
	'' \
	'Package: libpam-modules-bin' \
	'Pin: release *' \
	'Pin-Priority: -1' \
	'' \
	'Package: libpam-runtime' \
	'Pin: release *' \
	'Pin-Priority: -1' \
	'' \
	'Package: libpolkit-agent-1-0' \
	'Pin: release *' \
	'Pin-Priority: -1' \
	'' \
	'Package: libpolkit-gobject-1-0' \
	'Pin: release *' \
	'Pin-Priority: -1' \
	'' \
	'Package: policykit-1' \
	'Pin: release *' \
	'Pin-Priority: -1' \
	'' \
	'Package: libpulsedsp' \
	'Pin: release a=focal,n=focal' \
	'Pin-Priority: -1' \
	'' \
	'Package: libpulse-mainloop-glib0' \
	'Pin: release a=focal,n=focal' \
	'Pin-Priority: -1' \
	'' \
	'Package: nvidia-driver-390' \
	'Pin: release *' \
	'Pin-Priority: -1' \
	'' \
	'Package: nvidia-compute-utils-390 ' \
	'Pin: release *' \
	'Pin-Priority: -1' \
	'' \
	'Package: nvidia-dkms-390' \
	'Pin: release *' \
	'Pin-Priority: -1' \
	'' \
	'Package: nvidia-kernel-common-390' \
	'Pin: release *' \
	'Pin-Priority: -1' \
	'' \
	'Package: nvidia-kernel-source-390 ' \
	'Pin: release *' \
	'Pin-Priority: -1' \
	'' \
	'Package: nvidia-utils-390' \
	'Pin: release *' \
	'Pin-Priority: -1' \
	'' \
	'Package: rng-tools' \
	'Pin: release o=Debian,a=unstable,n=sid' \
	'Pin-Priority: -1' \
	'' \
	'Package: pulseaudio' \
	'Pin: release a=focal,n=focal' \
	'Pin-Priority: -1' \
	'' \
	'Package: pulseaudio-utils' \
	'Pin: release a=focal,n=focal' \
	'Pin-Priority: -1' \
	'' \
	'Package: pulseaudio-module-gsettings' \
	'Pin: release a=focal,n=focal' \
	'Pin-Priority: -1' \
	'' \
	'Package: pulseaudio-module-bluetooth' \
	'Pin: release a=focal,n=focal' \
	'Pin-Priority: -1' \
	'' \
	'Package: plymouth' \
	'Pin: release o=Debian,a=unstable,n=sid' \
	'Pin-Priority: -1' \
	'' \
	'Package: plymouth-label' \
	'Pin: release o=Debian,a=unstable,n=sid' \
	'Pin-Priority: -1' \
	'' \
	'Package: plymouth-theme-spinner' \
	'Pin: release *' \
	'Pin-Priority: -1' \
	'' \
	'Package: snapd' \
	'Pin: release *' \
	'Pin-Priority: -1' \
	'' \
	'Package: software-properties-common' \
	'Pin: release *' \
	'Pin-Priority: -1' \
	'' \
	'Package: synaptic' \
	'Pin: release *' \
	'Pin-Priority: -1' \
	'' \
	'Package: systemd' \
	'Pin: release *' \
	'Pin-Priority: -1' \
	'' \
	'Package: xterm' \
	'Pin: release *' \
	'Pin-Priority: -1' \
	'' \
	'Package: libkf5*' \
	'Pin: version 5.80.*' \
	'Pin-Priority: -1' \
	'' \
	'Package: qml-module-org-kde-*' \
	'Pin: version 5.80.*' \
	'Pin-Priority: -1' \
	'' \
	'Package: kross' \
	'Pin: version 5.80.*' \
	'Pin-Priority: -1' \
	'' \
	'Package: libkwall*' \
	'Pin: version 5.80.*' \
	'Pin-Priority: -1' \
	'' \
	'########################' \
	'#  Repository Priority #' \
	'########################' \
	'' \
	'Package: *' \
	'Pin: release o=user' \
	'Pin-Priority: 500' \
	'' \
	'Package: *' \
	'Pin: origin archive.neon.kde.org' \
	'Pin-Priority: 500' \
	'' 
	'Package: *' \
	'Pin: origin ppa.launchpad.net' \
	'Pin-Priority: 600' \
	'' 
>> /etc/apt/apt.conf printf "%s\n" \
	'########################################' \
	'#   DO NOT EDIT THIS FILE!             #' \
	'#   Your changes will be overwritten   #' \
	'########################################' \
	'' \
	'#########################' \
	'#  APT Configuration	 #' \
	'#########################' \
	'' \
	'Update-Manager::Never-Include-Phased-Updates;' \
	'APT::Get::Never-Include-Phased-Updates “true”;' \
	'' 

apt-key adv --keyserver keyserver.ubuntu.com --recv-keys \
	55751E5D \
	1118213C

apt -qq update
