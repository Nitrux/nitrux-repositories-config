#!/bin/bash

test -f /sbin/openrc-init && {
	>> /etc/apt/preferences printf "%s\n" \
		'########################################' \
		'#   DO NOT EDIT THIS FILE!             #' \
		'#   Your changes will be overwritten   #' \
		'########################################' \
		'' \
		'######################' \
		'#  Packages Priority #' \
		'######################' \
		'' \
		'Package: base-files' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: bluez' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: cgroupfs-mount' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: dash' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: dictionaries-common' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: grub-common' \
		'Pin: version 2.04-11' \
		'Pin-Priority: -1' \
		'' \
		'Package: grub-efi-amd64' \
		'Pin: version 2.04-11' \
		'Pin-Priority: -1' \
		'' \
		'Package: grub-efi-amd64-bin' \
		'Pin: version 2.04-11' \
		'Pin-Priority: -1' \
		'' \
		'Package: grub-pc-bin' \
		'Pin: version 2.04-11' \
		'Pin-Priority: -1' \
		'' \
		'Package: grub2-common' \
		'Pin: version 2.04-11' \
		'Pin-Priority: -1' \
		'' \
		'Package: gvfs-common' \
		'Pin: version 1.44.1-1ubuntu1' \
		'Pin-Priority: -1' \
		'' \
		'Package: initramfs-tools' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: initramfs-tools-bin' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: initramfs-tools-core' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: base-passwd' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: libnvidia-ifr1-390 ' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: libnvidia-gl-390' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: libnvidia-fbc1-390' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: libnvidia-encode-390' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: libnvidia-decode-390' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: libnvidia-compute-390' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: libnvidia-cfg1-390' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: libsystemd0' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: libpolkit-gobject-elogind-1-0' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: libpulse-mainloop-glib0' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: libpam-runtime' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: libpulse0' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: libpulsedsp' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: libplymouth5' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: libplymouth4' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: libqt5webkit5' \
		'Pin: version 5.212.0~alpha4-7' \
		'Pin-Priority: -1' \
		'' \
		'Package: media-types' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: mailcap' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: nvidia-driver-390' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: nvidia-compute-utils-390 ' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: nvidia-dkms-390' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: nvidia-kernel-common-390' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: nvidia-kernel-source-390 ' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: nvidia-utils-390' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: plasma-discover-backend-snap' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: packagekit' \
		'Pin: version 1.2.2-2+devuan1' \
		'Pin-Priority: -1' \
		'' \
		'Package: plasma-pa' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: plymouth' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: plymouth-theme-spinner' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: plymouth-label' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: plymouth-themes' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: pulseaudio' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: pulseaudio-module-bluetooth' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: pulseaudio-utils' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: samba-common' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: snapd' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: software-properties-common' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: synaptic' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: systemd' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: ssl-cert' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: ufw' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: unattended-upgrades' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: qml-module-qmltermwidget' \
		'Pin: version 1.1.1+git20200723-2' \
		'Pin-Priority: -1' \
		'' \
		'Package: xserver-xorg-video-nvidia-390' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: xterm' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'########################' \
		'#  Repository Priority #' \
		'########################' \
		'' \
		'Package: *' \
		'Pin: release o=user' \
		'Pin-Priority: 700' \
		'' \
		'Package: *' \
		'Pin: origin archive.neon.kde.org' \
		'Pin-Priority: 700' \
		'' 
} || {
	>> /etc/apt/preferences printf "%s\n" \
		'########################################' \
		'#   DO NOT EDIT THIS FILE!             #' \
		'#   Your changes will be overwritten   #' \
		'########################################' \
		'' \
		'######################' \
		'#  Packages Priority #' \
		'######################' \
		'' \
		'Package: base-files' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: dash' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: initramfs-tools' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: initramfs-tools-bin' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: initramfs-tools-core' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: plasma-pa' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: plymouth' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: plymouth-theme-spinner' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: ufw' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: xterm' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' 
}

apt -qq update
