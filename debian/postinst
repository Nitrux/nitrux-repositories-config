#!/bin/bash

test -f /sbin/openrc-init && {
	>> /etc/apt/preferences printf "%s\n" \
		'########################################' \
		'#   DO NOT EDIT THIS FILE!             #' \
		'#   Your changes will be overwritten   #' \
		'########################################' \
		'' \
		'######################' \
		'#  Packages Priority #' \
		'######################' \
		'' \
		'Package: base-files' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: bluez' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: cgroupfs-mount' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: dash' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: dictionaries-common' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: grub-common' \
		'Pin: version 2.04-9' \
		'Pin-Priority: -1' \
		'' \
		'Package: grub-efi-amd64' \
		'Pin: version 2.04-9' \
		'Pin-Priority: -1' \
		'' \
		'Package: grub-efi-amd64-bin' \
		'Pin: version 2.04-9' \
		'Pin-Priority: -1' \
		'' \
		'Package: grub-pc-bin' \
		'Pin: version 2.04-9' \
		'Pin-Priority: -1' \
		'' \
		'Package: grub2-common' \
		'Pin: version 2.04-9' \
		'Pin-Priority: -1' \
		'' \
		'Package: initramfs-tools' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: initramfs-tools-bin' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: initramfs-tools-core' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: libsystemd0' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: libpolkit-gobject-elogind-1-0' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: libpulse-mainloop-glib0' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: libpam-runtime' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: libpulse0' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: libpulsedsp' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: libplymouth5' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: plasma-discover' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: plasma-discover-common' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: plasma-discover-backend-flatpak' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: plasma-pa' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: pulseaudio' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: pulseaudio-module-bluetooth' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: plymouth' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: plymouth-theme-spinner' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: plymouth-label' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: plymouth-themes' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: pulseaudio-utils' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: samba-common' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: snapd' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: sudo' \
		'Pin: version 1.9.1-2' \
		'Pin-Priority: -1' \
		'' \
		'Package: systemd' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: ssl-cert' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: ufw' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: unattended-upgrades' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: xterm' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'########################' \
		'#  Repository Priority #' \
		'########################' \
		'' \
		'Package: *' \
		'Pin: release o=user' \
		'Pin-Priority: 700' \
		'' \
		'Package: *' \
		'Pin: origin archive.neon.kde.org' \
		'Pin-Priority: 700' \
		'' 
} || {
	>> /etc/apt/preferences printf "%s\n" \
		'########################################' \
		'#   DO NOT EDIT THIS FILE!             #' \
		'#   Your changes will be overwritten   #' \
		'########################################' \
		'' \
		'######################' \
		'#  Packages Priority #' \
		'######################' \
		'' \
		'Package: base-files' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: dash' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: initramfs-tools' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: initramfs-tools-bin' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: initramfs-tools-core' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: plasma-pa' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: plymouth' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: plymouth-theme-spinner' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: sudo' \
		'Pin: version 1.9.1-2' \
		'Pin-Priority: -1' \
		'' \
		'Package: ufw' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' \
		'Package: xterm' \
		'Pin: release *' \
		'Pin-Priority: -1' \
		'' 
}

apt -qq update
